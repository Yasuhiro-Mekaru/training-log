<!DOCTYPE html>
<html lang="en">

<!-- Head Section -->
	<head>
	    <!-- Required meta tags -->
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	    <title>Training Log</title>
	</head>

<!-- Body Section -->
	<body>
		<h1>Hello Welcome To Training Log Application</h1>
		<p>Input Your Log of Training</p>

		<p>
			<label>date: </label>
			<input type="text" name="date" id="input_date">
		</p>
		<p>
			<label>milage: </label>
			<input type="text" name="date" id="input_milage">
		</p>
		<p>
			<label>elevation: </label>
			<input type="text" name="date" id="input_elevation">
		</p>
		<p>
			<label>weather_id: </label>
			<input type="text" name="date" id="input_weather_id">
		</p>
		<p>
			<label>target_id: </label>
			<input type="text" name="date" id="input_target_id">
		</p>
		<p>
			<input type="button" value="INPUT" id="button">
		</p>

		<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<script type="text/javascript">
			$(function(){
				$('#button').click(function(){
					let table = 'milage_log';
					let date = $('#input_date').val();
					let milage = $('#input_milage').val();
					if(milage != Number){
						milage = Number(milage);
					}
					let elevation = $('#input_elevation').val();
					if(elevation != Number){
						elevation = Number(elevation);
					}
					let weather_id = $('#input_weather_id').val();
					if(weather_id != Number){
						weather_id = Number(weather_id);
					}
					let target_id = $('#input_target_id').val();
					if(target_id != Number){
						target_id = Number(target_id);
					}

					let data = {
						"table": table,
						"date": date,
						"milage": milage,
						"elevation": elevation,
						"weather_id": weather_id,
						"target_id": target_id
					}
					console.log(data);

					//Ajax通信
					$.ajax({
						'type': 'POST',
	                    'contentType': 'application/json',
	                    'url': 'https://training-logs.herokuapp.com/insert_data', //herokuにアップした際に使用予定
	                    'data': data,
					}).then(function(response){
						console.log(response);
						}, function(error){
							console.log(error);
						});
				})
			});
		</script>
	</body>
